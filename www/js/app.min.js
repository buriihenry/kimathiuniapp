angular.module("dekutapp",["dekutapp.account","dekutapp.dev","dekutapp.home","dekutapp.login","dekutapp.register","dekutapp.tweet","ionic","lbServices","bd.timedistance","ngCordova","ionic-aterial","ngTable"]).run(function(e){null==e.getCachedCurrent()&&e.getCurrent(),window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!1),window.StatusBar&&StatusBar.styleLightContent()}).controller("FeedController",function(e,t){t.init=function(){e.get("http://ajax.googleapis.com/ajax/services/feed/load",{params:{v:"1.0",q:"http://blog.nraboy.com/feed/"}}).success(function(e){t.rssTitle=e.responseData.feed.title,t.rssUrl=e.responseData.feed.feedUrl,t.rssSiteUrl=e.responseData.feed.link,t.entries=e.responseData.feed.entries,window.localStorage.entries=JSON.stringify(e.responseData.feed.entries)}).error(function(e){console.log("ERROR: "+e),void 0!==window.localStorage.entries&&(t.entries=JSON.parse(window.localStorage.entries))})},t.browse=function(e){window.open(e,"_system","location=yes")}}).controller("NavCtrl",function(e,t){e.showMenu=function(){t.toggleLeft()}}).factory("Sessions",function(e){return e("http://localhost:5000/sessions/:sessionId")}).controller("SessionsCtrl",function(e,t){e.sessions=t.query()}).controller("SessionCtrl",function(e,t,l){e.session=l.get({sessionId:t.sessionId})}).controller("ExtensionsCtrl",function(e,t,l,r,o,a,s,n){e.actionSheet=function(){var e=l.show({buttons:[{text:"<b>Share</b> This"},{text:"Move"}],destructiveText:"Delete",titleText:"Modify your album",cancelText:"Cancel",cancel:function(){},buttonClicked:function(){return!0}});r(function(){e()},2e3)},e.loading=function(){o.show({template:'<div class="loader"><svg class="circular"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>'}),r(function(){o.hide()},2e3)},a.fromTemplateUrl("my-modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.modal=t}),e.openModal=function(){e.modal.show(),r(function(){e.modal.hide()},2e3)},e.$on("$destroy",function(){e.modal.remove()}),e.popover=function(){e.$parent.popover.show(),r(function(){e.$parent.popover.hide()},2e3)},e.showPopup=function(){s.alert({title:"You are now my subscribed to Cat Facts",template:"You will meow receive fun daily facts about CATS!"});r(function(){n.displayEffect()},0)};for(var i=document.getElementsByClassName("code-wrapper"),c=0;c<i.length;c++)i[c].addEventListener("click",function(){this.classList.toggle("active")})}).controller("EmailCtrl",function(e){e.sendEmail=function(){var t="<h2>Look at the ScreenShot!</h2>";if(null!=e.images){for(var l=[],r=e.images,o=0;o<r.length;o++)l.push(""+e.urlForImage(r[o])),l[o]=l[o].replace("file://","");window.plugin.email.open({to:["denzjoseph@gmail.com"],cc:Array,bcc:Array,attachments:l,subject:"DekutApp FeedBack",body:t,isHtml:!0},function(){console.log("email view dismissed")},this)}}}).config(function(e,t,l){e.state("login",{url:"/login",templateUrl:"templates/login.html",controller:"LoginCtrl"}).state("feedback",{url:"/feedback",templateUrl:"templates/feedback.html",controller:"EmailCtrl"}).state("news",{url:"/news",controller:"FeedController",templateUrl:"templates/news.html"}).state("intro",{url:"/intro",templateUrl:"templates/intro.html"}).state("register",{url:"/register",templateUrl:"templates/register.html",controller:"RegisterCtrl"}).state("academics",{url:"/academics","abstract":!0,templateUrl:"templates/academics.html"}).state("academics.home",{url:"",views:{"academics-home":{templateUrl:"templates/academics-home.html"}}}).state("academics.notes",{url:"/notes",views:{"academics-notes":{templateUrl:"templates/academics-notes.html",controller:"ExtensionsCtrl"}}}).state("academics.reminders",{url:"/reminders",views:{"academics-reminders":{templateUrl:"templates/academics-reminders.html"}}}).state("timetables",{url:"/timetables",templateUrl:"templates/academics-timetables.html",controller:"TimetableCtrl"}).state("resources",{url:"/resources",templateUrl:"templates/academics-resources.html"}).state("eservices",{url:"/eservices",templateUrl:"templates/eservices.html"}).state("notices",{url:"/notices",templateUrl:"templates/notices.html",controller:"SessionsCtrl"}).state("notice",{url:"/notices/:sessionId",templateUrl:"templates/notice.html",controller:"SessionCtrl"}).state("tour",{url:"/tour","abstract":!0,templateUrl:"templates/tour.html"}).state("tour.home",{url:"",views:{"tour-home":{templateUrl:"templates/tour-home.html"}}}).state("tour.about",{url:"/about",views:{"tour-about":{templateUrl:"templates/tour-about.html"}}}).state("tour.map",{url:"/map",views:{"tour-map":{templateUrl:"templates/tour-map.html"}}}).state("tour.facilities",{url:"/facilities",views:{"tour-facilities":{templateUrl:"templates/tour-facilities.html"}}}).state("tabs",{url:"/tab","abstract":!0,templateUrl:"templates/tabs.html"}).state("tabs.home",{url:"/home",views:{"home-tab":{templateUrl:"templates/home.html",controller:"HomeTabCtrl"}}}).state("tabs.tweet",{url:"/tweet/:id",views:{"home-tab":{templateUrl:"templates/tweet.html",controller:"TweetCtrl"}}}).state("tabs.dev",{url:"/dev",views:{"dev-tab":{templateUrl:"templates/dev.html",controller:"DevCtrl"}}}).state("tabs.account",{url:"/account",views:{"account-tab":{templateUrl:"templates/account.html",controller:"AccountCtrl"}}}),t.otherwise("/intro"),l.interceptors.push(function(e,t){return{responseError:function(l){return console.log("Redirect"),401==l.status&&"/login"!==t.path()&&"/register"!==t.path()&&(t.nextAfterLogin=t.path(),t.path("#/tab/home")),e.reject(l)}}})});
